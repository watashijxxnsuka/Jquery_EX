<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>is, each function</title>
  <script src="../js/jquery-3.7.1.min.js"></script>
</head>
<body>
  <h3>Menu</h3>
  <label><input type="checkbox" name="food" value="chicken">chicken</label>
  <label><input type="checkbox" name="food" value="삼겹살">삼겹살</label>
  <label><input type="checkbox" name="food" value="김밥">김밥</label>
  <label><input type="checkbox" name="food" value="pizza">pizza</label>
  <label><input type="checkbox" name="food" value="hamburger">hamburger</label>
  <label><input type="checkbox" name="food" value="sushi">sushi</label>
  <label><input type="checkbox" name="food" value="pasta">pasta</label>
  <label><input type="checkbox" name="food" value="냉면">냉면</label>
  <label><input type="checkbox" name="food" value="족발">족발</label>
  <button type="button" id="btn">주문</button>
  <script>
    $(() => {
      $('#btn').on('click', (e) => {
        const orderList = [];

        // 1. each() 메소드: 선택된 태그들을 하나씩 순회하면서 콜백함수를 한번씩 실행
        // 선택자.each(콜백함수);
        // $.each(선택자, 콜백함수);
        $("input[name = 'food']").each(function() {
          //$(this): 현재 선택된 태그
          console.log($(this));

          // 2. is() 메소드: 특정 태그의 상태를 검사하는 메소드(true, false 리턴)
          // 매개변수로 가상클래스를 이용한다.
          // input[name='food'] 중에 체크된 체크박스만 조건문에 걸린다.
          if($(this).is(':checked')) {
            orderList.push($(this).val());
          }
        });

        console.log(orderList);
        alert(`${orderList}이(가) 주문됐습니다.`);
      });

        $('input[type="checkbox"]').on('click', (e) => {
        $("input[name = 'food']").each(function() {
          if($(this).is(':checked')) {
            $(this).parent().css('background', 'red').css('border', '1px solid black');
          } else {
            $(this).parent().css('background', 'none').css('border', 'none');
          }
        });
      });
    });

    
  </script>
</body>
</html>